{"openapi":"3.0.0","paths":{"/":{"get":{"operationId":"getHello","parameters":[],"responses":{"200":{"description":""}}}},"/auth/sing-in":{"post":{"operationId":"login","parameters":[],"requestBody":{"required":true,"description":"Login credentials.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginDto"}}}},"responses":{"201":{"description":"login successful.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenDto"}}}}},"tags":["Auth"]}},"/user/profile":{"get":{"operationId":"profile","parameters":[],"responses":{"200":{"description":"User profile","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProfileDTO"}}}}},"tags":["User"],"security":[{"bearer":[]}]}},"/user/sign-up":{"post":{"operationId":"signIn","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateAccountDTO"}}}},"responses":{"201":{"description":""}},"tags":["User"],"security":[{"bearer":[]}]}},"/user":{"get":{"operationId":"listPosts","parameters":[{"name":"pageNumber","required":true,"in":"query","description":"Current page number, 0 indexed.","schema":{"type":"number"}},{"name":"pageSize","required":true,"in":"query","description":"Items per page.","schema":{"type":"number"}},{"name":"sortByColumn","required":false,"in":"query","description":"Sort results by this column.","schema":{"type":"string"}},{"name":"sortDirection","required":false,"in":"query","description":"Sort direction ASC or DESC.","schema":{"type":"string"}}],"responses":{"200":{"description":"Page of asset records.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PostPageDto"}}}}},"tags":["User"],"security":[{"bearer":[]}]}},"/user/add-post":{"post":{"operationId":"addPost","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreatePostDTO"}}}},"responses":{"201":{"description":"New post created.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PostDTO"}}}}},"tags":["User"],"security":[{"bearer":[]}]}},"/user/update-post":{"put":{"operationId":"updatePost","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdatePostDto"}}}},"responses":{"200":{"description":"Post updated successfully."}},"tags":["User"],"security":[{"bearer":[]}]}},"/user/add-like":{"post":{"operationId":"addLike","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateLikeDTO"}}}},"responses":{"201":{"description":""}},"tags":["User"],"security":[{"bearer":[]}]}},"/user/delete-post":{"delete":{"operationId":"deletePost","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeletePostDto"}}}},"responses":{"200":{"description":""}},"tags":["User"],"security":[{"bearer":[]}]}},"/user/delete-account":{"delete":{"operationId":"deleteAccount","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeleteAccountDto"}}}},"responses":{"200":{"description":""}},"tags":["User"],"security":[{"bearer":[]}]}},"/admin/get-user/{id}":{"get":{"operationId":"getUsersData","parameters":[{"name":"id","required":true,"in":"path","description":"User id.","schema":{"type":"number"}}],"responses":{"200":{"description":"User profile","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProfileDTO"}}}}},"tags":["Admin"],"security":[{"bearer":[]}]}}},"info":{"title":"RBAC example API","description":"RBAC NestJS API with openapi integration for API client generation.","version":"1.0","contact":{}},"tags":[],"servers":[],"components":{"securitySchemes":{"bearer":{"scheme":"bearer","bearerFormat":"JWT","type":"http"}},"schemas":{"LoginDto":{"type":"object","properties":{"email":{"type":"string","description":"User email"},"password":{"type":"string","description":"User password"}},"required":["email","password"]},"TokenDto":{"type":"object","properties":{"access_token":{"type":"string","description":"JWT access token"}},"required":["access_token"]},"LikeDTO":{"type":"object","properties":{"likes":{"type":"object","description":"Amount of likes."},"dislikes":{"type":"object","description":"Amount of dislikes"}},"required":["likes","dislikes"]},"PostDTO":{"type":"object","properties":{"content":{"type":"string","description":"Post content."},"id":{"type":"number","description":"Post ID"},"creation_date":{"format":"date-time","type":"string","description":"Creation Date"},"likes":{"description":"Post likes","allOf":[{"$ref":"#/components/schemas/LikeDTO"}]}},"required":["content","id","creation_date","likes"]},"ProfileDTO":{"type":"object","properties":{"id":{"type":"number","description":"Profile ID"},"username":{"type":"string","description":"Username"},"email":{"type":"string","description":"User Email"},"role":{"type":"string","description":"User role"},"posts":{"description":"User posts.","type":"array","items":{"$ref":"#/components/schemas/PostDTO"}}},"required":["id","username","email","role","posts"]},"CreateAccountDTO":{"type":"object","properties":{"username":{"type":"string","description":"Username"},"email":{"type":"string","description":"User email"},"password":{"type":"string","description":"User password"}},"required":["username","email","password"]},"PostPageDto":{"type":"object","properties":{"items":{"description":"Items in this page.","type":"array","items":{"$ref":"#/components/schemas/PostDTO"}},"count":{"type":"number","description":"Total items."}},"required":["items","count"]},"CreatePostDTO":{"type":"object","properties":{}},"UpdatePostDto":{"type":"object","properties":{"postId":{"type":"number","description":"Post ID"},"content":{"type":"string","description":"Post content."}},"required":["postId","content"]},"CreateLikeDTO":{"type":"object","properties":{}},"DeletePostDto":{"type":"object","properties":{"postId":{"type":"number","description":"Post ID"}},"required":["postId"]},"DeleteAccountDto":{"type":"object","properties":{"accountId":{"type":"number","description":"Account ID"}},"required":["accountId"]}}}}